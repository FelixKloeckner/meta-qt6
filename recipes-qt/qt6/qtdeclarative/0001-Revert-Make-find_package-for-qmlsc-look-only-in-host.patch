From 522a2f805ab67e6272bf5e6338fad6de1033c437 Mon Sep 17 00:00:00 2001
From: Samuli Piippo <samuli.piippo@qt.io>
Date: Tue, 9 Aug 2022 05:27:53 +0000
Subject: [PATCH] Revert "Make find_package for qmlsc look only in host qt"

This reverts commit 9d16facde09d7bc9c16f832f3d46cb6e01cda0cc.
---
 src/qml/Qt6QmlFindQmlscInternal.cmake | 19 +------------------
 1 file changed, 1 insertion(+), 18 deletions(-)

diff --git a/src/qml/Qt6QmlFindQmlscInternal.cmake b/src/qml/Qt6QmlFindQmlscInternal.cmake
index 459bf42928..d2470766fe 100644
--- a/src/qml/Qt6QmlFindQmlscInternal.cmake
+++ b/src/qml/Qt6QmlFindQmlscInternal.cmake
@@ -3,23 +3,6 @@ if (QT_NO_FIND_QMLSC)
 endif()
 
 set(QT_NO_FIND_QMLSC TRUE)
-if(NOT "${QT_HOST_PATH}" STREQUAL "")
-    # Make sure that the tools find the host tools and does not try the target
-    set(BACKUP_qmlsc_CMAKE_PREFIX_PATH ${CMAKE_PREFIX_PATH})
-    set(BACKUP_qmlsc_CMAKE_FIND_ROOT_PATH ${CMAKE_FIND_ROOT_PATH})
-    set(BACKUP_qmlsc_CMAKE_SYSROOT ${CMAKE_SYSROOT})
-    set(CMAKE_PREFIX_PATH "${QT_HOST_PATH_CMAKE_DIR}")
-    list(APPEND CMAKE_PREFIX_PATH "${_qt_additional_host_packages_prefix_paths}")
-    set(CMAKE_FIND_ROOT_PATH "${QT_HOST_PATH}")
-    list(APPEND CMAKE_FIND_ROOT_PATH "${_qt_additional_host_packages_root_paths}")
-    unset(CMAKE_SYSROOT)
-endif()
 
+# FIXME: Make this work with cross-builds
 find_package(Qt6QmlCompilerPlusPrivate QUIET)
-
-if(NOT "${QT_HOST_PATH}" STREQUAL "")
-    set(CMAKE_PREFIX_PATH ${BACKUP_qmlsc_CMAKE_PREFIX_PATH})
-    set(CMAKE_FIND_ROOT_PATH ${BACKUP_qmlsc_CMAKE_FIND_ROOT_PATH})
-    set(CMAKE_SYSROOT ${BACKUP_qmlsc_CMAKE_SYSROOT})
-endif()
-
